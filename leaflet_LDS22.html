<!DOCTYPE html>
<html>

<head>
  <title>QGIS Track Profile 2 Web</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
  <style>
    html,
    body,
    #map,
    #elevation-div {
      height: 100%;
      width: 100%;
      padding: 0px;
      margin: 0px;
      position: relative;
      z-index: 9999;
    }

    #elevation-div { overflow: visible; }
    #map {
      height: 75%;
      position: relative;
      z-index: 1;
    }

    #elevation-div {
      height: 25%;
      font: 12px/1.5 "Helvetica Neue", Arial, Helvetica, sans-serif;
    }

    .data-summary {
      font-family: "Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif;
      font-size: 12px;
      position: absolute;
      bottom: 0;
      left: 45px;
    }

    .data-summary .summaryvalue {
      font-weight: bold;
    }

  </style>
  <style>
   .custom-theme.leaflet-control.elevation .area {
    fill: #d45f5f;
    stroke: hsla(60, 0%, 0%, 0.85);
    stroke-width: 2.5;
   }

   .custom-theme.height-focus.circle-lower {
     fill: #ffb800;
   }

   .custom-theme.elevation-polyline {
     stroke: #ff0000;
     stroke-opacity: 0.85 ;
   }
 </style>

  <!-- Leaflet (JS/CSS) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.2/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.3.2/dist/leaflet.js"></script>
  <!-- D3.js -->
  <script src="https://unpkg.com/d3@4.13.0/build/d3.min.js" charset="utf-8"></script>
  <!-- leaflet-gpx -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-gpx/1.4.0/gpx.js"></script>
  <!-- leaflet-elevation -->
  <link rel="stylesheet" href="https://unpkg.com/@raruto/leaflet-elevation@0.3.9/leaflet-elevation.min.css" />
  <script src="https://unpkg.com/@raruto/leaflet-elevation@0.3.9/leaflet-elevation.min.js"></script>

</head>

<body>

  <div id="map"></div>
  <div id="elevation-div" class="leaflet-control elevation"></div>

  <div id="data-summary" class="data-summary"><span class="totlen"><span class="summarylabel">Total Length: </span><span class="summaryvalue">0</span></span> &mdash; <span class="maxele"><span class="summarylabel">Max Elevation: </span><span class="summaryvalue">0</span></span>
    &mdash; <span class="minele"><span class="summarylabel">Min Elevation: </span><span class="summaryvalue">0</span></span></div>

  <script>
  var opts = {"map": {"center": [41.4583, 12.7059], "zoom": 5, "markerZoomAnimation": false, "zoomControl": false}, "zoomControl": {"position": "topleft"}, "elevationControl": {"data": "{\"name\":\"Draped\", \"type\":\"FeatureCollection\",\"features\": [{ \"type\": \"Feature\", \"properties\": { }, \"geometry\": { \"type\": \"MultiLineString\", \"coordinates\": [ [ [ 97.05287788150412, 3.5264451629165046,79.0 ], [ 97.05310642044344, 3.5261242358953173,81.0 ], [ 97.0531599082803, 3.5258227589966262,79.0 ], [ 97.05342734746463, 3.5255164195673108,79.0 ], [ 97.05551337310236, 3.52469951442247,126.0 ], [ 97.05571759938856, 3.524548775973124,129.0 ], [ 97.05583916265417, 3.524592538748741,140.0 ], [ 97.05566897408232, 3.5255990825879198,154.0 ], [ 97.05572246191919, 3.5257789962210095,171.0 ], [ 97.05616008967536, 3.5257157833228967,182.0 ], [ 97.05721769008609, 3.5260610229972045,217.0 ], [ 97.05815372723121, 3.5270602730404472,236.0 ], [ 97.05821207759871, 3.5273325747553943,243.0 ], [ 97.05816831482309, 3.527570838755973,244.0 ], [ 97.05810023939435, 3.527665658103142,247.0 ], [ 97.05808565180249, 3.5278893345118485,247.0 ], [ 97.05826070290495, 3.5281762238186674,244.0 ], [ 97.05828987808869, 3.5283853126355016,235.0 ], [ 97.0593474784994, 3.528402331492686,261.0 ], [ 97.05939610380565, 3.52877917761605,269.0 ], [ 97.05934261596879, 3.528973678841012,269.0 ], [ 97.05898278870261, 3.5291730425965984,256.0 ], [ 97.05897792617198, 3.5294793820259134,261.0 ], [ 97.05912866462133, 3.5298270529655333,281.0 ], [ 97.05904113907009, 3.5300264167211193,293.0 ], [ 97.05887581302888, 3.5301674301092167,294.0 ], [ 97.05866186168141, 3.5304032628444832,289.0 ], [ 97.05869589939579, 3.5305248261100846,291.0 ], [ 97.05876883735515, 3.530554001293829,301.0 ], [ 97.05929399066254, 3.530534551171333,303.0 ], [ 97.05965868045935, 3.5303886752526115,320.0 ], [ 97.0600525454399, 3.530359500068867,331.0 ], [ 97.06034672854265, 3.5305807452122613,336.0 ], [ 97.06076976870695, 3.530648820640998,358.0 ], [ 97.06102748283003, 3.5307946965597194,354.0 ], [ 97.0619294822608, 3.530901672233449,369.0 ], [ 97.06265399932379, 3.5306585457022464,399.0 ], [ 97.0641540900213, 3.5306925834166147,417.0 ], [ 97.06477163141057, 3.5303327561504347,452.0 ], [ 97.06506095198269, 3.530668270763494,447.0 ], [ 97.06516549639112, 3.5313757689692937,456.0 ], [ 97.06569551222914, 3.531949547582932,465.0 ], [ 97.06629846602651, 3.531852296970451,473.0 ], [ 97.06662668684365, 3.5326230080743635,462.0 ], [ 97.06820944056177, 3.5334715196682605,492.0 ], [ 97.0686592246445, 3.5334982635866927,496.0 ], [ 97.06996724538237, 3.534086629792203,531.0 ], [ 97.07046808603664, 3.5341644302821877,546.0 ], [ 97.07126067852836, 3.5340355732206508,603.0 ], [ 97.07174206906014, 3.5343224625274696,625.0 ], [ 97.07277049428713, 3.5359781542049595,684.0 ], [ 97.07255168040905, 3.537602239433393,657.0 ], [ 97.07232314146971, 3.53860635200726,641.0 ], [ 97.07171775640701, 3.540485720093456,665.0 ], [ 97.0713093038346, 3.541616258463548,690.0 ], [ 97.07116099665058, 3.541878835117247,715.0 ], [ 97.070883832405, 3.5422824251590432,731.0 ], [ 97.07059694309818, 3.5425547268739903,745.0 ], [ 97.07045592971009, 3.54305799879358,738.0 ], [ 97.06990646374958, 3.54396972328559,768.0 ], [ 97.06970223746336, 3.5450370487575693,816.0 ], [ 97.06972168758585, 3.5456083961058953,824.0 ], [ 97.06998912677018, 3.546695171700371,814.0 ], [ 97.07002316448455, 3.547368632191802,842.0 ], [ 97.06996967664769, 3.548005623703553,859.0 ], [ 97.0693667228503, 3.5487909223993377,857.0 ], [ 97.0691649278294, 3.5491458871348933,851.0 ], [ 97.06895097648194, 3.550232662729369,870.0 ], [ 97.06878565044073, 3.55179353505969,880.0 ], [ 97.06855711150139, 3.552637184122963,933.0 ], [ 97.06833829762331, 3.554129981024547,970.0 ]]] } },{ \"type\": \"Feature\", \"properties\": { }, \"geometry\": { \"type\": \"MultiLineString\", \"coordinates\": [ [ [ 97.06832857256204, 3.554115393432675,970.0 ], [ 97.06821187182706, 3.5553991015174247,950.0 ], [ 97.06852307378699, 3.5574997147470153,1034.0 ], [ 97.06926217844186, 3.5582388194018715,1041.0 ], [ 97.07085708848655, 3.5597170287115834,1042.0 ], [ 97.07132389142645, 3.5620510434111283,1018.0 ], [ 97.07175179412137, 3.564423958355666,989.0 ], [ 97.0731133026961, 3.565824367175393,982.0 ], [ 97.07505831494572, 3.567847179914999,1033.0 ], [ 97.07599192082554, 3.5676137784450446,1061.0 ], [ 97.07638092327547, 3.5671469755051355,1069.0 ], [ 97.07809253405513, 3.5666023720752413,1061.0 ], [ 97.0803487482647, 3.5653186639904915,1020.0 ]]] } },{ \"type\": \"Feature\", \"properties\": { }, \"geometry\": { \"type\": \"MultiLineString\", \"coordinates\": [ [ [ 97.08030984801972, 3.565338114112988,1020.0 ], [ 97.08055297455093, 3.5654839900317095,1022.0 ], [ 97.08138932981826, 3.565600690766687,1028.0 ], [ 97.08311066565918, 3.5656979413791676,1041.0 ], [ 97.08384004525278, 3.5658632674203856,1042.0 ], [ 97.08392270827339, 3.566111256482212,1038.0 ], [ 97.0838838080284, 3.566626684728362,1028.0 ], [ 97.08377683235467, 3.5669767869332936,1030.0 ], [ 97.08373793210968, 3.5670448623620303,1029.0 ], [ 97.08378655741592, 3.5675311154244356,1040.0 ], [ 97.08352398076222, 3.567847179914999,1051.0 ], [ 97.08332947953726, 3.5684793088961255,1081.0 ], [ 97.08342673014974, 3.569043362448516,1082.0 ], [ 97.08507999056192, 3.5696657663683946,1088.0 ], [ 97.08548358060372, 3.5698845802464767,1110.0 ], [ 97.08615460982983, 3.5706334099625807,1146.0 ], [ 97.08666031301473, 3.57089598661628,1138.0 ], [ 97.08702986534217, 3.5708473613100393,1140.0 ], [ 97.08747721815958, 3.570905711677528,1144.0 ], [ 97.08794402109949, 3.5708765364937833,1147.0 ], [ 97.08899432771429, 3.5704000084926264,1158.0 ], [ 97.08945626812357, 3.5703222080026418,1174.0 ], [ 97.08959241898104, 3.5701179817164315,1177.0 ], [ 97.09069135090208, 3.569534478041545,1173.0 ], [ 97.09279682666228, 3.5705264342888516,1124.0 ], [ 97.09366235711339, 3.573317526867058,1016.0 ], [ 97.0941486101758, 3.574703348094913,933.0 ], [ 97.09826231108374, 3.5732154137239527,834.0 ]]] } },{ \"type\": \"Feature\", \"properties\": { }, \"geometry\": { \"type\": \"MultiLineString\", \"coordinates\": [ [ [ 97.09826759837863, 3.5732137055578836,834.0 ], [ 97.0995948904714, 3.5740432631158647,812.0 ], [ 97.10129548346526, 3.576366024278213,815.0 ], [ 97.10332789948232, 3.5766978473014057,800.0 ], [ 97.10548474913307, 3.575702378231828,797.0 ], [ 97.10959105904507, 3.5743336082611585,772.0 ], [ 97.11390475834658, 3.5732551834357826,759.0 ], [ 97.11834289128178, 3.572425625877801,761.0 ], [ 97.12000200639774, 3.5749142985517453,759.0 ]]] } },{ \"type\": \"Feature\", \"properties\": { }, \"geometry\": { \"type\": \"MultiLineString\", \"coordinates\": [ [ [ 97.12000122995539, 3.574869493755982,759.0 ], [ 97.12232429707679, 3.578561511145342,806.0 ], [ 97.12452291417382, 3.582419461900516,925.0 ], [ 97.12402511407637, 3.5871900461676662,950.0 ], [ 97.12390066405202, 3.591255413630108,853.0 ], [ 97.12307081136488, 3.5952175018523356,828.0 ], [ 97.1225314923943, 3.5992001650196936,842.0 ]]] } },{ \"type\": \"Feature\", \"properties\": { }, \"geometry\": { \"type\": \"MultiLineString\", \"coordinates\": [ [ [ 97.12248260076441, 3.599176785208415,842.0 ], [ 97.12107189455917, 3.599923629670019,865.0 ], [ 97.12098891184121, 3.601776910371036,872.0 ], [ 97.12162511267887, 3.6032152774822728,909.0 ], [ 97.11999311801031, 3.6059953067068156,901.0 ], [ 97.11869299830393, 3.606437900649415,930.0 ], [ 97.1186100119397, 3.6080146415699272,928.0 ], [ 97.11880364678957, 3.6095637203690263,926.0 ], [ 97.12215085708054, 3.609605313229132,981.0 ], [ 97.12179123369958, 3.612260993580912,1050.0 ], [ 97.11924617265498, 3.6150689949217254,1027.0 ], [ 97.1156774453514, 3.6173928173519685,1097.0 ], [ 97.11313230649922, 3.6164522225587747,1159.0 ], [ 97.11147243333477, 3.617337488246487,1210.0 ]]] } },{ \"type\": \"Feature\", \"properties\": { }, \"geometry\": { \"type\": \"MultiLineString\", \"coordinates\": [ [ [ 97.11148583821497, 3.617365198387624,1216.0 ], [ 97.1091064775306, 3.6195508901790783,1349.0 ], [ 97.10791679718842, 3.6189145495309334,1372.0 ], [ 97.10681011780034, 3.61971689208729,1378.0 ], [ 97.10407108631485, 3.620325565750733,1456.0 ], [ 97.10094471704353, 3.6214599121235134,1554.0 ], [ 97.09950603383902, 3.6256099598288065,1742.0 ], [ 97.09805255446423, 3.628709036115826,1859.0 ], [ 97.10126220687053, 3.6317250026010504,1804.0 ]]] } },{ \"type\": \"Feature\", \"properties\": { }, \"geometry\": { \"type\": \"MultiLineString\", \"coordinates\": [ [ [ 97.10128952103675, 3.631891003886276,1779.0 ], [ 97.1036969720322, 3.634575173386944,1723.0 ], [ 97.10366930018166, 3.635765062959405,1751.0 ], [ 97.1056893452698, 3.6391410287231314,1783.0 ], [ 97.1075016239279, 3.642863116518937,1723.0 ], [ 97.10711395636582, 3.647277221468844,1775.0 ], [ 97.10714138721671, 3.6512764148187804,1839.0 ], [ 97.10589569140208, 3.6557186201064686,1836.0 ]]] } },{ \"type\": \"Feature\", \"properties\": { }, \"geometry\": { \"type\": \"MultiLineString\", \"coordinates\": [ [ [ 97.10578437817986, 3.6557186925406118,1836.0 ], [ 97.10415130809366, 3.660175036335136,1919.0 ], [ 97.10284995553599, 3.6641471508131915,2023.0 ], [ 97.10290488633972, 3.6663478256288697,2010.0 ], [ 97.1044827369563, 3.6680087210147554,2012.0 ], [ 97.10617102767408, 3.672064243233783,1976.0 ], [ 97.10711199826838, 3.676341427103023,1975.0 ], [ 97.10957587659668, 3.678251624908109,1832.0 ], [ 97.11134765427096, 3.678030152698824,1859.0 ]]] } },{ \"type\": \"Feature\", \"properties\": { }, \"geometry\": { \"type\": \"MultiLineString\", \"coordinates\": [ [ [ 97.1112770270225, 3.6780575301836604,1859.0 ], [ 97.11512544539117, 3.6771715633649733,1988.0 ], [ 97.11911229607526, 3.6792480480962713,1955.0 ], [ 97.12213012055142, 3.681905948552332,1955.0 ], [ 97.12390205418879, 3.684286984377554,1927.0 ], [ 97.1263107764771, 3.683373331095783,1972.0 ], [ 97.13068523764436, 3.6828749747602716,2139.0 ], [ 97.1321112989, 3.6880940778021665,2069.0 ]]] } },{ \"type\": \"Feature\", \"properties\": { }, \"geometry\": { \"type\": \"MultiLineString\", \"coordinates\": [ [ [ 97.13213908225161, 3.6880386042987547,2069.0 ], [ 97.13344051788317, 3.691527559396129,2096.0 ], [ 97.13438198195706, 3.6916937001150516,2127.0 ], [ 97.13640336070395, 3.6935212480232,2163.0 ], [ 97.13784324693461, 3.693576628262841,2098.0 ], [ 97.14205214514732, 3.6928566851475098,2104.0 ], [ 97.14590107180236, 3.6910568273591817,2155.0 ], [ 97.14695329635553, 3.6905030249627733,2164.0 ], [ 97.15013766013489, 3.6907799261609773,2200.0 ], [ 97.15348816463316, 3.693438177663739,2308.0 ], [ 97.1545821511428, 3.6943103920534854,2372.0 ]]] } },{ \"type\": \"Feature\", \"properties\": { }, \"geometry\": { \"type\": \"MultiLineString\", \"coordinates\": [ [ [ 97.15458925695059, 3.694295975215567,2380.0 ], [ 97.1538107271399, 3.6953507575397273,2350.0 ], [ 97.15396141032906, 3.6975607776474924,2324.0 ], [ 97.15285640027518, 3.701604109890108,2265.0 ], [ 97.15280617254545, 3.70344997895739,2287.0 ], [ 97.15408697965337, 3.7057855683894596,2307.0 ], [ 97.1549659649235, 3.7074430834702827,2344.0 ], [ 97.15694996024752, 3.7074681973351438,2278.0 ], [ 97.15828099508515, 3.70686546457848,2314.0 ], [ 97.16134488659819, 3.7037639022681508,2392.0 ]]] } },{ \"type\": \"Feature\", \"properties\": { }, \"geometry\": { \"type\": \"MultiLineString\", \"coordinates\": [ [ [ 97.1613700004631, 3.703763902268151,2392.0 ], [ 97.16242478278726, 3.7021063871873277,2403.0 ], [ 97.16373070376002, 3.70112694645775,2396.0 ], [ 97.16584026840835, 3.700122391863311,2422.0 ], [ 97.16802517465125, 3.7006246691605305,2370.0 ], [ 97.17324885854232, 3.7018552485387177,2102.0 ], [ 97.17545887865009, 3.703336966565515,1917.0 ], [ 97.17505705681232, 3.7072296156189646,1993.0 ], [ 97.17166668505608, 3.709941913023949,2160.0 ]]] } },{ \"type\": \"Feature\", \"properties\": { }, \"geometry\": { \"type\": \"MultiLineString\", \"coordinates\": [ [ [ 97.17169179892095, 3.7100172546185317,2160.0 ], [ 97.17063701659679, 3.7111222646724142,2226.0 ], [ 97.17023519475902, 3.7137592204828156,2289.0 ], [ 97.17003428384012, 3.716421290158078,2409.0 ], [ 97.17071235819137, 3.7181164760361933,2463.0 ], [ 97.17236987327219, 3.7206906471844423,2570.0 ], [ 97.17086304138053, 3.725525066170177,2611.0 ]]] } },{ \"type\": \"Feature\", \"properties\": { }, \"geometry\": { \"type\": \"MultiLineString\", \"coordinates\": [ [ [ 97.17087559831297, 3.7256004077647598,2611.0 ], [ 97.16876603366465, 3.728789868602102,2666.0 ], [ 97.16557657282732, 3.7314770521422256,2775.0 ], [ 97.16039055973353, 3.7329085424393007,2890.0 ], [ 97.15895906943645, 3.7353194734659536,2935.0 ], [ 97.15855724759868, 3.7373034687899698,3009.0 ], [ 97.1562216581666, 3.740756625208353,3099.0 ], [ 97.15524221743702, 3.7414598134244597,3126.0 ], [ 97.1586074753284, 3.7438205167213905,3080.0 ]]] } },{ \"type\": \"Feature\", \"properties\": { }, \"geometry\": { \"type\": \"MultiLineString\", \"coordinates\": [ [ [ 97.15875815851756, 3.7438456305862506,3076.0 ], [ 97.16134488659824, 3.7455784872616573,3037.0 ], [ 97.16167136684143, 3.746708611180401,3053.0 ], [ 97.1638813869492, 3.7501743245312142,3073.0 ], [ 97.16746011269188, 3.7523215599768265,3099.0 ], [ 97.17117696469131, 3.7544436815575777,3194.0 ], [ 97.1747180196367, 3.7566788155302038,3389.0 ], [ 97.17864833948745, 3.7581730904894313,3303.0 ], [ 97.18159921860861, 3.7613751082592044,3184.0 ], [ 97.18300559504083, 3.765230086515362,3110.0 ], [ 97.1856299939188, 3.767879599258194,3113.0 ], [ 97.18791535562114, 3.770855592244218,3117.0 ], [ 97.19020071732349, 3.7741329516085744,3122.0 ], [ 97.19281255926903, 3.7768829198108493,3118.0 ], [ 97.1945705298093, 3.7807881257967297,3191.0 ], [ 97.197245156417, 3.783713891053032,3197.0 ], [ 97.19905335468698, 3.7869786934849574,3194.0 ]]] } },{ \"type\": \"Feature\", \"properties\": { }, \"geometry\": { \"type\": \"MultiLineString\", \"coordinates\": [ [ [ 97.19901568388967, 3.787041478147109,3197.0 ], [ 97.20165263970007, 3.787619097038911,3249.0 ], [ 97.20328504091604, 3.787870235687521,3287.0 ], [ 97.20740371475324, 3.78862365163335,3386.0 ], [ 97.21107033902294, 3.79123549357889,3428.0 ], [ 97.21144704699586, 3.789628206227788,3422.0 ], [ 97.21094476969863, 3.7867401117687773,3388.0 ], [ 97.21292876502265, 3.786187606741836,3335.0 ], [ 97.21677118634638, 3.78395247276921,3228.0 ], [ 97.22050059527822, 3.7815038709452655,3091.0 ], [ 97.22419233341279, 3.778967370594308,3006.0 ], [ 97.22790918541222, 3.7767950212838346,2967.0 ]]] } },{ \"type\": \"Feature\", \"properties\": { }, \"geometry\": { \"type\": \"MultiLineString\", \"coordinates\": [ [ [ 97.22795941314193, 3.776769907418974,2972.0 ], [ 97.23182694833052, 3.774861253689541,3060.0 ], [ 97.2360963053569, 3.7735553327167706,3170.0 ], [ 97.24094328127505, 3.7737562436356584,3299.0 ], [ 97.24160879869387, 3.7743087486625995,3308.0 ]]] } }]}", "options": {"position": "topright", "theme": "custom-theme", "useHeightIndicator": true, "collapsed": false, "detachedView": true, "elevationDiv": "#elevation-div", "followPositionMarker": false, "autohide": false}}, "layersControl": {"options": {"collapsed": false}}, "otmLayer": {"url": "https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png", "options": {"attribution": "Map data: &copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenTopoMap</a>, <a href=\"http://viewfinderpanoramas.org\">SRTM</a> | Map style: &copy; <a href=\"https://opentopomap.org\">OpenTopoMap</a> (<a href=\"https://creativecommons.org/licenses/by-sa/3.0/\">CC-BY-SA</a>)"}}} ;
    var map = new L.Map('map', opts.map);

    var baseLayers = {};
    baseLayers.OTM = new L.TileLayer(opts.otmLayer.url, opts.otmLayer.options);

    var controlZoom = new L.Control.Zoom(opts.zoomControl);
    var controlElevation = L.control.elevation(opts.elevationControl.options);
    var controlLayer = L.control.layers(baseLayers, null, opts.layersControl.options);

    controlZoom.addTo(map);
    controlLayer.addTo(map);

    map.addLayer(baseLayers.OTM);

    map.on('eledata_loaded', function(e) {
      var q = document.querySelector.bind(document);
      var track = e.track_info;

      controlLayer.addOverlay(e.layer, e.name);

      q('.totlen .summaryvalue').innerHTML = track.distance.toFixed(2) + " km";
      q('.maxele .summaryvalue').innerHTML = track.elevation_max.toFixed(2) + " m";
      q('.minele .summaryvalue').innerHTML = track.elevation_min.toFixed(2) + " m";
    });

    controlElevation.loadChart(map);
    controlElevation.loadData(opts.elevationControl.data);
  </script>

</body>

</html>
